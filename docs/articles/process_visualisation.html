<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Process Visualisation â€¢ rprom</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Process Visualisation">
<meta property="og:description" content="rprom">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rprom</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/monte_carlo_simulation.html">Monte-Carlo Simulation</a>
    </li>
    <li>
      <a href="../articles/process_visualisation.html">Process Visualisation</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="process_visualisation_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="process_visualisation_files/viz-1.8.2/viz.js"></script><link href="process_visualisation_files/vizstyles-0.2/styles.css" rel="stylesheet">
<script src="process_visualisation_files/grviz-binding-5.8.6/grviz.js"></script><link href="process_visualisation_files/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="process_visualisation_files/vis-9.1.0/vis-network.min.js"></script><script src="process_visualisation_files/visNetwork-binding-2.1.0/visNetwork.js"></script><script src="process_visualisation_files/d3-4.5.0/d3.min.js"></script><script src="process_visualisation_files/sankey-1/sankey.js"></script><script src="process_visualisation_files/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Process Visualisation</h1>
                        <h4 data-toc-skip class="author">Nima Ramezani</h4>
            
      
      
      <div class="hidden name"><code>process_visualisation.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This article gives you an overview of some visualisations that you can generate with <em>rprom</em>.</p>
<p>We are using package <a href="https://cran.r-project.org/web/packages/eventdataR/index.html" class="external-link">eventdataR</a> to get some sample data for visualisation. We may use various datasets from this package.</p>
<p>First of all, we build an empty <em>Transition System</em> object:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span> <span class="op">=</span> <span class="fu">new</span><span class="op">(</span><span class="st">'TRANSYS'</span><span class="op">)</span></code></pre></div>
<p>Now, we pick an eventlog from <code>eventdataR</code> package and feed our object with the data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">traffic_fines_df</span> <span class="op">=</span> <span class="fu">eventdataR</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/eventdataR/man/traffic_fines.html" class="external-link">traffic_fines</a></span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">traffic_fines_df</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">head</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="11%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="3%">
<col width="3%">
<col width="4%">
<col width="3%">
<col width="4%">
<col width="4%">
<col width="7%">
<col width="6%">
<col width="3%">
<col width="8%">
<col width="6%">
<col width="9%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="left">case_id</th>
<th align="left">activity</th>
<th align="left">lifecycle</th>
<th align="left">resource</th>
<th align="left">timestamp</th>
<th align="right">amount</th>
<th align="right">article</th>
<th align="left">dismissal</th>
<th align="right">expense</th>
<th align="left">lastsent</th>
<th align="left">matricola</th>
<th align="left">notificationtype</th>
<th align="right">paymentamount</th>
<th align="right">points</th>
<th align="left">totalpaymentamount</th>
<th align="left">vehicleclass</th>
<th align="left">activity_instance_id</th>
<th align="right">.order</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">A1</td>
<td align="left">Create Fine</td>
<td align="left">complete</td>
<td align="left">561</td>
<td align="left">2006-07-24</td>
<td align="right">350</td>
<td align="right">157</td>
<td align="left">NIL</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="left">0.0</td>
<td align="left">A</td>
<td align="left">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">A1</td>
<td align="left">Send Fine</td>
<td align="left">complete</td>
<td align="left">NA</td>
<td align="left">2006-12-05</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="right">110</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">2</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">A100</td>
<td align="left">Create Fine</td>
<td align="left">complete</td>
<td align="left">561</td>
<td align="left">2006-08-02</td>
<td align="right">350</td>
<td align="right">157</td>
<td align="left">NIL</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">0</td>
<td align="left">0.0</td>
<td align="left">A</td>
<td align="left">3</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">A100</td>
<td align="left">Send Fine</td>
<td align="left">complete</td>
<td align="left">NA</td>
<td align="left">2006-12-12</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="right">110</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">4</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">A100</td>
<td align="left">Insert Fine Notification</td>
<td align="left">complete</td>
<td align="left">NA</td>
<td align="left">2007-01-15</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">P</td>
<td align="left">NA</td>
<td align="left">P</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">5</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">A100</td>
<td align="left">Add penalty</td>
<td align="left">complete</td>
<td align="left">NA</td>
<td align="left">2007-03-16</td>
<td align="right">715</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">6</td>
<td align="right">6</td>
</tr>
</tbody>
</table>
<p>We can define completion of an activity as status for our cases, so we filter for <code>lifecycle</code> to be <code>complete</code>. You also need to specify critical column headers for the data feeder:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span><span class="op">$</span><span class="fu">feed.eventlog</span><span class="op">(</span><span class="va">traffic_fines_df</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">lifecycle</span> <span class="op">==</span> <span class="st">'complete'</span><span class="op">)</span>, 
                    caseID_col <span class="op">=</span> <span class="st">'case_id'</span>, 
                    status_col <span class="op">=</span> <span class="st">'activity'</span>,
                    startTime_col <span class="op">=</span> <span class="st">'timestamp'</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="process-maps">Process maps:<a class="anchor" aria-label="anchor" href="#process-maps"></a>
</h2>
<p>The first and most valuable process visualisation is a <em>process map</em>.</p>
<p>Process map is a directed graph containing nodes and edges. Each node is associated with a <em>status</em> and each edge denotes a <em>transition</em> from one status to another.</p>
<p>Method <code>plot.process.map</code> can be used to plot the process map for the transition system:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span><span class="op">$</span><span class="fu">plot.process.map</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##  Aggregating nodes ...Done! </span>
<span class="co">## </span>
<span class="co">##  Aggregating links ...Done!</span></code></pre>
<div id="htmlwidget-556a6feaeddc9203a591" style="width:700px;height:432.632880098888px;" class="grviz html-widget"></div>
<script type="application/json" data-for="htmlwidget-556a6feaeddc9203a591">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"TD\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"Add penalty\n(4635)\", shape = \"rectangle\", fillcolor = \"#000080\", tooltip = \"Add penalty\n(4635)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"2\" [label = \"Appeal to Judge\n(19)\", shape = \"rectangle\", fillcolor = \"#D4D4E9\", tooltip = \"Appeal to Judge\n(19)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n  \"3\" [label = \"Create Fine\n(10000)\", shape = \"rectangle\", fillcolor = \"#15158A\", tooltip = \"Create Fine\n(10000)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"4\" [label = \"END\n(10000)\", shape = \"circle\", fillcolor = \"#FFFFFF\", tooltip = \"END\n(10000)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n  \"5\" [label = \"Insert Date Appeal to Prefecture\n(232)\", shape = \"rectangle\", fillcolor = \"#7F7FBF\", tooltip = \"Insert Date Appeal to Prefecture\n(232)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"6\" [label = \"Insert Fine Notification\n(4635)\", shape = \"rectangle\", fillcolor = \"#2A2A95\", tooltip = \"Insert Fine Notification\n(4635)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"7\" [label = \"Notify Result Appeal to Offender\n(54)\", shape = \"rectangle\", fillcolor = \"#6A6AB4\", tooltip = \"Notify Result Appeal to Offender\n(54)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"8\" [label = \"Payment\n(4910)\", shape = \"rectangle\", fillcolor = \"#5555AA\", tooltip = \"Payment\n(4910)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"9\" [label = \"Receive Result Appeal from Prefecture\n(55)\", shape = \"rectangle\", fillcolor = \"#BFBFDF\", tooltip = \"Receive Result Appeal from Prefecture\n(55)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n  \"10\" [label = \"Send Appeal to Prefecture\n(227)\", shape = \"rectangle\", fillcolor = \"#9494CA\", tooltip = \"Send Appeal to Prefecture\n(227)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"11\" [label = \"Send Fine\n(6570)\", shape = \"rectangle\", fillcolor = \"#3F3F9F\", tooltip = \"Send Fine\n(6570)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"12\" [label = \"Send for Credit Collection\n(3387)\", shape = \"rectangle\", fillcolor = \"#AAAAD4\", tooltip = \"Send for Credit Collection\n(3387)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"13\" [label = \"START\n(10000)\", shape = \"circle\", fillcolor = \"#E9E9F4\", tooltip = \"START\n(10000)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n\"1\"->\"5\" [color = \"#323232\", label = \" 0.88%\", tooltip = \"Add penalty-Insert Date Appeal to Prefecture\"] \n\"1\"->\"7\" [color = \"#727272\", label = \" 0.06%\", tooltip = \"Add penalty-Notify Result Appeal to Offender\"] \n\"1\"->\"8\" [color = \"#080808\", label = \" 24.1%\", tooltip = \"Add penalty-Payment\"] \n\"1\"->\"9\" [color = \"#4C4C4C\", label = \" 0.32%\", tooltip = \"Add penalty-Receive Result Appeal from Prefecture\"] \n\"1\"->\"10\" [color = \"#101010\", label = \" 3.69%\", tooltip = \"Add penalty-Send Appeal to Prefecture\"] \n\"1\"->\"12\" [color = \"#000000\", label = \" 70.94%\", tooltip = \"Add penalty-Send for Credit Collection\"] \n\"2\"->\"1\" [color = \"#656565\", label = \" 68.42%\", tooltip = \"Appeal to Judge-Add penalty\"] \n\"2\"->\"4\" [color = \"#B1B1B1\", label = \" 26.32%\", tooltip = \"Appeal to Judge-END\"] \n\"2\"->\"5\" [color = \"#989898\", label = \" 5.26%\", tooltip = \"Appeal to Judge-Insert Date Appeal to Prefecture\"] \n\"3\"->\"8\" [color = \"#191919\", label = \" 34.43%\", tooltip = \"Create Fine-Payment\"] \n\"3\"->\"11\" [color = \"#000000\", label = \" 65.57%\", tooltip = \"Create Fine-Send Fine\"] \n\"5\"->\"1\" [color = \"#2E2E2E\", label = \" 73.28%\", tooltip = \"Insert Date Appeal to Prefecture-Add penalty\"] \n\"5\"->\"6\" [color = \"#B9B9B9\", label = \" 0.43%\", tooltip = \"Insert Date Appeal to Prefecture-Insert Fine Notification\"] \n\"5\"->\"8\" [color = \"#767676\", label = \" 1.29%\", tooltip = \"Insert Date Appeal to Prefecture-Payment\"] \n\"5\"->\"9\" [color = \"#6D6D6D\", label = \" 2.16%\", tooltip = \"Insert Date Appeal to Prefecture-Receive Result Appeal from Prefecture\"] \n\"5\"->\"10\" [color = \"#262626\", label = \" 22.84%\", tooltip = \"Insert Date Appeal to Prefecture-Send Appeal to Prefecture\"] \n\"6\"->\"1\" [color = \"#040404\", label = \" 95.3%\", tooltip = \"Insert Fine Notification-Add penalty\"] \n\"6\"->\"2\" [color = \"#616161\", label = \" 0.3%\", tooltip = \"Insert Fine Notification-Appeal to Judge\"] \n\"6\"->\"5\" [color = \"#2A2A2A\", label = \" 4.06%\", tooltip = \"Insert Fine Notification-Insert Date Appeal to Prefecture\"] \n\"6\"->\"8\" [color = \"#5C5C5C\", label = \" 0.35%\", tooltip = \"Insert Fine Notification-Payment\"] \n\"7\"->\"1\" [color = \"#878787\", label = \" 5.56%\", tooltip = \"Notify Result Appeal to Offender-Add penalty\"] \n\"7\"->\"2\" [color = \"#7E7E7E\", label = \" 9.26%\", tooltip = \"Notify Result Appeal to Offender-Appeal to Judge\"] \n\"7\"->\"4\" [color = \"#B5B5B5\", label = \" 1.85%\", tooltip = \"Notify Result Appeal to Offender-END\"] \n\"7\"->\"8\" [color = \"#363636\", label = \" 44.44%\", tooltip = \"Notify Result Appeal to Offender-Payment\"] \n\"7\"->\"9\" [color = \"#B9B9B9\", label = \" 1.85%\", tooltip = \"Notify Result Appeal to Offender-Receive Result Appeal from Prefecture\"] \n\"7\"->\"12\" [color = \"#212121\", label = \" 37.04%\", tooltip = \"Notify Result Appeal to Offender-Send for Credit Collection\"] \n\"8\"->\"1\" [color = \"#545454\", label = \" 0.37%\", tooltip = \"Payment-Add penalty\"] \n\"8\"->\"4\" [color = \"#A0A0A0\", label = \" 92.36%\", tooltip = \"Payment-END\"] \n\"8\"->\"6\" [color = \"#8F8F8F\", label = \" 0.02%\", tooltip = \"Payment-Insert Fine Notification\"] \n\"8\"->\"8\" [color = \"#1D1D1D\", label = \" 5.38%\", tooltip = \"Payment-Payment\"] \n\"8\"->\"9\" [color = \"#828282\", label = \" 0.02%\", tooltip = \"Payment-Receive Result Appeal from Prefecture\"] \n\"8\"->\"11\" [color = \"#505050\", label = \" 0.26%\", tooltip = \"Payment-Send Fine\"] \n\"8\"->\"12\" [color = \"#151515\", label = \" 1.59%\", tooltip = \"Payment-Send for Credit Collection\"] \n\"9\"->\"1\" [color = \"#939393\", label = \" 3.64%\", tooltip = \"Receive Result Appeal from Prefecture-Add penalty\"] \n\"9\"->\"7\" [color = \"#474747\", label = \" 92.73%\", tooltip = \"Receive Result Appeal from Prefecture-Notify Result Appeal to Offender\"] \n\"9\"->\"8\" [color = \"#8B8B8B\", label = \" 1.82%\", tooltip = \"Receive Result Appeal from Prefecture-Payment\"] \n\"9\"->\"12\" [color = \"#585858\", label = \" 1.82%\", tooltip = \"Receive Result Appeal from Prefecture-Send for Credit Collection\"] \n\"10\"->\"1\" [color = \"#7A7A7A\", label = \" 5.29%\", tooltip = \"Send Appeal to Prefecture-Add penalty\"] \n\"10\"->\"4\" [color = \"#ADADAD\", label = \" 80.18%\", tooltip = \"Send Appeal to Prefecture-END\"] \n\"10\"->\"9\" [color = \"#3F3F3F\", label = \" 14.54%\", tooltip = \"Send Appeal to Prefecture-Receive Result Appeal from Prefecture\"] \n\"11\"->\"4\" [color = \"#A8A8A8\", label = \" 28.81%\", tooltip = \"Send Fine-END\"] \n\"11\"->\"5\" [color = \"#696969\", label = \" 0.03%\", tooltip = \"Send Fine-Insert Date Appeal to Prefecture\"] \n\"11\"->\"6\" [color = \"#0C0C0C\", label = \" 70.52%\", tooltip = \"Send Fine-Insert Fine Notification\"] \n\"11\"->\"8\" [color = \"#3B3B3B\", label = \" 0.64%\", tooltip = \"Send Fine-Payment\"] \n\"12\"->\"4\" [color = \"#A4A4A4\", label = \" 99.91%\", tooltip = \"Send for Credit Collection-END\"] \n\"12\"->\"10\" [color = \"#434343\", label = \" 0.09%\", tooltip = \"Send for Credit Collection-Send Appeal to Prefecture\"] \n\"13\"->\"3\" [color = \"#9C9C9C\", label = \" 100%\", tooltip = \"START-Create Fine\"] \n}","config":{"engine":"dot","options":null,"tasks":null}},"evals":[],"jsHooks":[]}</script><div class="section level3">
<h3 id="process-map-measures">Process Map Measures:<a class="anchor" aria-label="anchor" href="#process-map-measures"></a>
</h3>
<div class="section level4">
<h4 id="rate">Rate<a class="anchor" aria-label="anchor" href="#rate"></a>
</h4>
<p>Each edge (link or transition) in the process map has a <em>source status</em> and a <em>destination status</em>. By default method <code>plot.process.map</code> uses <em>rate</em> as the measure denoted by edges. On each edge, you will see the the rate (ratio) of transitions from the source status going to the destination status as a percentage of total outgoing transitions from the source status. The number denoted by each node(status) shows the total incoming transition to that status.</p>
</div>
<div class="section level4">
<h4 id="frequency">Frequency<a class="anchor" aria-label="anchor" href="#frequency"></a>
</h4>
<p>When you choose frequency as measure, the incoming edges of each status annotate frequencies of <em>entries</em> to that status while the outgoing edges annotate the <em>exit</em> frequencies (outgoing from that status to other statuses). This option can be chosen by setting argument <code>measure</code> to <code>freq</code>.</p>
</div>
<div class="section level4">
<h4 id="time">Time<a class="anchor" aria-label="anchor" href="#time"></a>
</h4>
<p>Other than frequencies in the process map, you can also use <em>time</em> as measure to focus on the durations of statuses and transitions. You can specify the time unit via argument <code>time_unit</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span><span class="op">$</span><span class="fu">plot.process.map</span><span class="op">(</span>measure <span class="op">=</span> <span class="st">'time'</span>, time_unit <span class="op">=</span> <span class="st">'hour'</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-2512c053b1063ef947ce" style="width:700px;height:432.632880098888px;" class="grviz html-widget"></div>
<script type="application/json" data-for="htmlwidget-2512c053b1063ef947ce">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"TD\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"Add penalty\n(9570.28 h)\", shape = \"rectangle\", fillcolor = \"#FF0000\", tooltip = \"Add penalty\n(9570.28 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"2\" [label = \"Appeal to Judge\n(520.42 h)\", shape = \"rectangle\", fillcolor = \"#FFD4D4\", tooltip = \"Appeal to Judge\n(520.42 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n  \"3\" [label = \"Create Fine\n(1644.98 h)\", shape = \"rectangle\", fillcolor = \"#FF1515\", tooltip = \"Create Fine\n(1644.98 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"4\" [label = \"END\n(0 h)\", shape = \"circle\", fillcolor = \"#FFFFFF\", tooltip = \"END\n(0 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n  \"5\" [label = \"Insert Date Appeal to Prefecture\n(1137.1 h)\", shape = \"rectangle\", fillcolor = \"#FF7F7F\", tooltip = \"Insert Date Appeal to Prefecture\n(1137.1 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"6\" [label = \"Insert Fine Notification\n(1408.18 h)\", shape = \"rectangle\", fillcolor = \"#FF2A2A\", tooltip = \"Insert Fine Notification\n(1408.18 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"7\" [label = \"Notify Result Appeal to Offender\n(7469.78 h)\", shape = \"rectangle\", fillcolor = \"#FF6A6A\", tooltip = \"Notify Result Appeal to Offender\n(7469.78 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"8\" [label = \"Payment\n(265.93 h)\", shape = \"rectangle\", fillcolor = \"#FF5555\", tooltip = \"Payment\n(265.93 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"9\" [label = \"Receive Result Appeal from Prefecture\n(567.27 h)\", shape = \"rectangle\", fillcolor = \"#FFBFBF\", tooltip = \"Receive Result Appeal from Prefecture\n(567.27 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"10\" [label = \"Send Appeal to Prefecture\n(158.48 h)\", shape = \"rectangle\", fillcolor = \"#FF9494\", tooltip = \"Send Appeal to Prefecture\n(158.48 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"11\" [label = \"Send Fine\n(252.08 h)\", shape = \"rectangle\", fillcolor = \"#FF3F3F\", tooltip = \"Send Fine\n(252.08 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"12\" [label = \"Send for Credit Collection\n(9.27 h)\", shape = \"rectangle\", fillcolor = \"#FFAAAA\", tooltip = \"Send for Credit Collection\n(9.27 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"13\" [label = \"START\n(0 h)\", shape = \"circle\", fillcolor = \"#FFE9E9\", tooltip = \"START\n(0 h)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n\"1\"->\"5\" [color = \"#323232\", label = \" 1584 h\", tooltip = \"Add penalty-Insert Date Appeal to Prefecture\"] \n\"1\"->\"7\" [color = \"#727272\", label = \" 1864 h\", tooltip = \"Add penalty-Notify Result Appeal to Offender\"] \n\"1\"->\"8\" [color = \"#080808\", label = \" 4219.17 h\", tooltip = \"Add penalty-Payment\"] \n\"1\"->\"9\" [color = \"#4C4C4C\", label = \" 1169.6 h\", tooltip = \"Add penalty-Receive Result Appeal from Prefecture\"] \n\"1\"->\"10\" [color = \"#101010\", label = \" 6115.65 h\", tooltip = \"Add penalty-Send Appeal to Prefecture\"] \n\"1\"->\"12\" [color = \"#000000\", label = \" 11712.77 h\", tooltip = \"Add penalty-Send for Credit Collection\"] \n\"2\"->\"1\" [color = \"#656565\", label = \" 756.92 h\", tooltip = \"Appeal to Judge-Add penalty\"] \n\"2\"->\"4\" [color = \"#B1B1B1\", label = \" 0 h\", tooltip = \"Appeal to Judge-END\"] \n\"2\"->\"5\" [color = \"#989898\", label = \" 48 h\", tooltip = \"Appeal to Judge-Insert Date Appeal to Prefecture\"] \n\"3\"->\"8\" [color = \"#191919\", label = \" 223.32 h\", tooltip = \"Create Fine-Payment\"] \n\"3\"->\"11\" [color = \"#000000\", label = \" 2391.48 h\", tooltip = \"Create Fine-Send Fine\"] \n\"5\"->\"1\" [color = \"#2E2E2E\", label = \" 604.09 h\", tooltip = \"Insert Date Appeal to Prefecture-Add penalty\"] \n\"5\"->\"6\" [color = \"#B9B9B9\", label = \" 0 h\", tooltip = \"Insert Date Appeal to Prefecture-Insert Fine Notification\"] \n\"5\"->\"8\" [color = \"#767676\", label = \" 1560 h\", tooltip = \"Insert Date Appeal to Prefecture-Payment\"] \n\"5\"->\"9\" [color = \"#6D6D6D\", label = \" 1190.4 h\", tooltip = \"Insert Date Appeal to Prefecture-Receive Result Appeal from Prefecture\"] \n\"5\"->\"10\" [color = \"#262626\", label = \" 2839.25 h\", tooltip = \"Insert Date Appeal to Prefecture-Send Appeal to Prefecture\"] \n\"6\"->\"1\" [color = \"#040404\", label = \" 1440 h\", tooltip = \"Insert Fine Notification-Add penalty\"] \n\"6\"->\"2\" [color = \"#616161\", label = \" 716.57 h\", tooltip = \"Insert Fine Notification-Appeal to Judge\"] \n\"6\"->\"5\" [color = \"#2A2A2A\", label = \" 777.45 h\", tooltip = \"Insert Fine Notification-Insert Date Appeal to Prefecture\"] \n\"6\"->\"8\" [color = \"#5C5C5C\", label = \" 640.5 h\", tooltip = \"Insert Fine Notification-Payment\"] \n\"7\"->\"1\" [color = \"#878787\", label = \" 136 h\", tooltip = \"Notify Result Appeal to Offender-Add penalty\"] \n\"7\"->\"2\" [color = \"#7E7E7E\", label = \" 590.4 h\", tooltip = \"Notify Result Appeal to Offender-Appeal to Judge\"] \n\"7\"->\"4\" [color = \"#B5B5B5\", label = \" 0 h\", tooltip = \"Notify Result Appeal to Offender-END\"] \n\"7\"->\"8\" [color = \"#363636\", label = \" 2558 h\", tooltip = \"Notify Result Appeal to Offender-Payment\"] \n\"7\"->\"9\" [color = \"#B9B9B9\", label = \" 0 h\", tooltip = \"Notify Result Appeal to Offender-Receive Result Appeal from Prefecture\"] \n\"7\"->\"12\" [color = \"#212121\", label = \" 16930.8 h\", tooltip = \"Notify Result Appeal to Offender-Send for Credit Collection\"] \n\"8\"->\"1\" [color = \"#545454\", label = \" 737.33 h\", tooltip = \"Payment-Add penalty\"] \n\"8\"->\"4\" [color = \"#A0A0A0\", label = \" 0 h\", tooltip = \"Payment-END\"] \n\"8\"->\"6\" [color = \"#8F8F8F\", label = \" 96 h\", tooltip = \"Payment-Insert Fine Notification\"] \n\"8\"->\"8\" [color = \"#1D1D1D\", label = \" 1812.09 h\", tooltip = \"Payment-Payment\"] \n\"8\"->\"9\" [color = \"#828282\", label = \" 480 h\", tooltip = \"Payment-Receive Result Appeal from Prefecture\"] \n\"8\"->\"11\" [color = \"#505050\", label = \" 1288.62 h\", tooltip = \"Payment-Send Fine\"] \n\"8\"->\"12\" [color = \"#151515\", label = \" 10214.15 h\", tooltip = \"Payment-Send for Credit Collection\"] \n\"9\"->\"1\" [color = \"#939393\", label = \" 36 h\", tooltip = \"Receive Result Appeal from Prefecture-Add penalty\"] \n\"9\"->\"7\" [color = \"#474747\", label = \" 349.18 h\", tooltip = \"Receive Result Appeal from Prefecture-Notify Result Appeal to Offender\"] \n\"9\"->\"8\" [color = \"#8B8B8B\", label = \" 336 h\", tooltip = \"Receive Result Appeal from Prefecture-Payment\"] \n\"9\"->\"12\" [color = \"#585858\", label = \" 12984 h\", tooltip = \"Receive Result Appeal from Prefecture-Send for Credit Collection\"] \n\"10\"->\"1\" [color = \"#7A7A7A\", label = \" 350 h\", tooltip = \"Send Appeal to Prefecture-Add penalty\"] \n\"10\"->\"4\" [color = \"#ADADAD\", label = \" 0 h\", tooltip = \"Send Appeal to Prefecture-END\"] \n\"10\"->\"9\" [color = \"#3F3F3F\", label = \" 962.91 h\", tooltip = \"Send Appeal to Prefecture-Receive Result Appeal from Prefecture\"] \n\"11\"->\"4\" [color = \"#A8A8A8\", label = \" 0 h\", tooltip = \"Send Fine-END\"] \n\"11\"->\"5\" [color = \"#696969\", label = \" 4092 h\", tooltip = \"Send Fine-Insert Date Appeal to Prefecture\"] \n\"11\"->\"6\" [color = \"#0C0C0C\", label = \" 343.81 h\", tooltip = \"Send Fine-Insert Fine Notification\"] \n\"11\"->\"8\" [color = \"#3B3B3B\", label = \" 1311.43 h\", tooltip = \"Send Fine-Payment\"] \n\"12\"->\"4\" [color = \"#A4A4A4\", label = \" 0 h\", tooltip = \"Send for Credit Collection-END\"] \n\"12\"->\"10\" [color = \"#434343\", label = \" 10464 h\", tooltip = \"Send for Credit Collection-Send Appeal to Prefecture\"] \n\"13\"->\"3\" [color = \"#9C9C9C\", label = \" 0 h\", tooltip = \"START-Create Fine\"] \n}","config":{"engine":"dot","options":null,"tasks":null}},"evals":[],"jsHooks":[]}</script><p>Values denoted on each status(node) show average duration of lingering in that status and values denoted on the edges show average transition times which is average duration of lingering in the source status before transiting to the destination status.</p>
</div>
</div>
<div class="section level3">
<h3 id="process-map-plotters">Process Map Plotters:<a class="anchor" aria-label="anchor" href="#process-map-plotters"></a>
</h3>
<p><em>rprom</em> currently supports two plotters for rendering process map graph: <code>grviz</code> and <code>visNetwork</code>. The default plotter is <code>grviz</code> which is using javascript package <a href="http://www.graphviz.org" class="external-link">GraphVis</a> and is available via the R package <a href="https://github.com/genpack/rvis" class="external-link">rviz</a>. To use plotter <code>visNetwork</code>, you need to have R package <a href="https://datastorm-open.github.io/visNetwork/" class="external-link">visNetwork</a> installed:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'visNetwork'</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span><span class="op">$</span><span class="fu">plot.process.map</span><span class="op">(</span>plotter <span class="op">=</span> <span class="st">'visNetwork'</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Loading required package: visNetwork</span></code></pre>
<div id="htmlwidget-262c6e493dab4f5e797f" style="width:700px;height:432.632880098888px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-262c6e493dab4f5e797f">{"x":{"nodes":{"id":["Add penalty","Appeal to Judge","Create Fine","END","Insert Date Appeal to Prefecture","Insert Fine Notification","Notify Result Appeal to Offender","Payment","Receive Result Appeal from Prefecture","Send Appeal to Prefecture","Send Fine","Send for Credit Collection","START"],"label":["Add penalty\n(4635)","Appeal to Judge\n(19)","Create Fine\n(10000)","END\n(10000)","Insert Date Appeal to Prefecture\n(232)","Insert Fine Notification\n(4635)","Notify Result Appeal to Offender\n(54)","Payment\n(4910)","Receive Result Appeal from Prefecture\n(55)","Send Appeal to Prefecture\n(227)","Send Fine\n(6570)","Send for Credit Collection\n(3387)","START\n(10000)"],"shape":["box","box","box","circle","box","box","box","box","box","box","box","box","circle"],"color.background":["#000080","#D4D4E9","#15158A","#FFFFFF","#7F7FBF","#2A2A95","#6A6AB4","#5555AA","#BFBFDF","#9494CA","#3F3F9F","#AAAAD4","#E9E9F4"],"title":["Add penalty\n(4635)","Appeal to Judge\n(19)","Create Fine\n(10000)","END\n(10000)","Insert Date Appeal to Prefecture\n(232)","Insert Fine Notification\n(4635)","Notify Result Appeal to Offender\n(54)","Payment\n(4910)","Receive Result Appeal from Prefecture\n(55)","Send Appeal to Prefecture\n(227)","Send Fine\n(6570)","Send for Credit Collection\n(3387)","START\n(10000)"],"shadow":[true,true,true,true,true,true,true,true,true,true,true,true,true],"font.color":["#FFFFFF","#000000","#FFFFFF","#000000","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#000000","#FFFFFF","#FFFFFF","#FFFFFF","#000000"]},"edges":{"from":["Add penalty","Add penalty","Add penalty","Add penalty","Add penalty","Add penalty","Appeal to Judge","Appeal to Judge","Appeal to Judge","Create Fine","Create Fine","Insert Date Appeal to Prefecture","Insert Date Appeal to Prefecture","Insert Date Appeal to Prefecture","Insert Date Appeal to Prefecture","Insert Date Appeal to Prefecture","Insert Fine Notification","Insert Fine Notification","Insert Fine Notification","Insert Fine Notification","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Payment","Payment","Payment","Payment","Payment","Payment","Payment","Receive Result Appeal from Prefecture","Receive Result Appeal from Prefecture","Receive Result Appeal from Prefecture","Receive Result Appeal from Prefecture","Send Appeal to Prefecture","Send Appeal to Prefecture","Send Appeal to Prefecture","Send Fine","Send Fine","Send Fine","Send Fine","Send for Credit Collection","Send for Credit Collection","START"],"to":["Insert Date Appeal to Prefecture","Notify Result Appeal to Offender","Payment","Receive Result Appeal from Prefecture","Send Appeal to Prefecture","Send for Credit Collection","Add penalty","END","Insert Date Appeal to Prefecture","Payment","Send Fine","Add penalty","Insert Fine Notification","Payment","Receive Result Appeal from Prefecture","Send Appeal to Prefecture","Add penalty","Appeal to Judge","Insert Date Appeal to Prefecture","Payment","Add penalty","Appeal to Judge","END","Payment","Receive Result Appeal from Prefecture","Send for Credit Collection","Add penalty","END","Insert Fine Notification","Payment","Receive Result Appeal from Prefecture","Send Fine","Send for Credit Collection","Add penalty","Notify Result Appeal to Offender","Payment","Send for Credit Collection","Add penalty","END","Receive Result Appeal from Prefecture","END","Insert Date Appeal to Prefecture","Insert Fine Notification","Payment","END","Send Appeal to Prefecture","Create Fine"],"color":["#323232","#727272","#080808","#4C4C4C","#101010","#000000","#656565","#B1B1B1","#989898","#191919","#000000","#2E2E2E","#B9B9B9","#767676","#6D6D6D","#262626","#040404","#616161","#2A2A2A","#5C5C5C","#878787","#7E7E7E","#B5B5B5","#363636","#B9B9B9","#212121","#545454","#A0A0A0","#8F8F8F","#1D1D1D","#828282","#505050","#151515","#939393","#474747","#8B8B8B","#585858","#7A7A7A","#ADADAD","#3F3F3F","#A8A8A8","#696969","#0C0C0C","#3B3B3B","#A4A4A4","#434343","#9C9C9C"],"label":[" 0.88%"," 0.06%"," 24.1%"," 0.32%"," 3.69%"," 70.94%"," 68.42%"," 26.32%"," 5.26%"," 34.43%"," 65.57%"," 73.28%"," 0.43%"," 1.29%"," 2.16%"," 22.84%"," 95.3%"," 0.3%"," 4.06%"," 0.35%"," 5.56%"," 9.26%"," 1.85%"," 44.44%"," 1.85%"," 37.04%"," 0.37%"," 92.36%"," 0.02%"," 5.38%"," 0.02%"," 0.26%"," 1.59%"," 3.64%"," 92.73%"," 1.82%"," 1.82%"," 5.29%"," 80.18%"," 14.54%"," 28.81%"," 0.03%"," 70.52%"," 0.64%"," 99.91%"," 0.09%"," 100%"],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"box","physics":false,"shadow":{"enabled":true},"scaling":{"min":15,"max":40}},"manipulation":{"enabled":false},"edges":{"width":5,"hidden":false,"hoverWidth":12,"physics":false,"labelHighlightBold":true,"scaling":{"min":1,"max":10}},"layout":{"hierarchical":false}},"groups":null,"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script><p>The layout of the plot generated by <code>grvis</code> looks better, on the other side, <code>visNetwork</code> gives you possibility of dragging the nodes or enable physics.</p>
<p>You can customize your plot by specifying parameters to the <code>config</code> argument.</p>
<p>For example, for the <code>visNetwork</code> plot, you can select <code>hierarchical</code> layout, change direction, edge smoothing type and enable physics for nodes and edges:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span><span class="op">$</span><span class="fu">filter.reset</span><span class="op">(</span><span class="op">)</span>
<span class="va">customized</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>layout <span class="op">=</span> <span class="st">'hierarchical'</span>, node.physics.enabled <span class="op">=</span> <span class="cn">T</span>, direction <span class="op">=</span> <span class="st">'left.right'</span>, 
                  link.smooth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">T</span>, type <span class="op">=</span> <span class="st">'curvedCCW'</span><span class="op">)</span><span class="op">)</span>

<span class="va">tsobj</span><span class="op">$</span><span class="fu">plot.process.map</span><span class="op">(</span>plotter <span class="op">=</span> <span class="st">'visNetwork'</span>, config <span class="op">=</span> <span class="va">customized</span>,  width <span class="op">=</span> <span class="st">"800px"</span>, height <span class="op">=</span> <span class="st">"1200px"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-8b2a2e3b9375996f9add" style="width:800px;height:1200px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-8b2a2e3b9375996f9add">{"x":{"nodes":{"id":["Add penalty","Appeal to Judge","Create Fine","END","Insert Date Appeal to Prefecture","Insert Fine Notification","Notify Result Appeal to Offender","Payment","Receive Result Appeal from Prefecture","Send Appeal to Prefecture","Send Fine","Send for Credit Collection","START"],"label":["Add penalty\n(4635)","Appeal to Judge\n(19)","Create Fine\n(10000)","END\n(10000)","Insert Date Appeal to Prefecture\n(232)","Insert Fine Notification\n(4635)","Notify Result Appeal to Offender\n(54)","Payment\n(4910)","Receive Result Appeal from Prefecture\n(55)","Send Appeal to Prefecture\n(227)","Send Fine\n(6570)","Send for Credit Collection\n(3387)","START\n(10000)"],"shape":["box","box","box","circle","box","box","box","box","box","box","box","box","circle"],"color.background":["#000080","#D4D4E9","#15158A","#FFFFFF","#7F7FBF","#2A2A95","#6A6AB4","#5555AA","#BFBFDF","#9494CA","#3F3F9F","#AAAAD4","#E9E9F4"],"title":["Add penalty\n(4635)","Appeal to Judge\n(19)","Create Fine\n(10000)","END\n(10000)","Insert Date Appeal to Prefecture\n(232)","Insert Fine Notification\n(4635)","Notify Result Appeal to Offender\n(54)","Payment\n(4910)","Receive Result Appeal from Prefecture\n(55)","Send Appeal to Prefecture\n(227)","Send Fine\n(6570)","Send for Credit Collection\n(3387)","START\n(10000)"],"shadow":[true,true,true,true,true,true,true,true,true,true,true,true,true],"font.color":["#FFFFFF","#000000","#FFFFFF","#000000","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#000000","#FFFFFF","#FFFFFF","#FFFFFF","#000000"]},"edges":{"from":["Add penalty","Add penalty","Add penalty","Add penalty","Add penalty","Add penalty","Appeal to Judge","Appeal to Judge","Appeal to Judge","Create Fine","Create Fine","Insert Date Appeal to Prefecture","Insert Date Appeal to Prefecture","Insert Date Appeal to Prefecture","Insert Date Appeal to Prefecture","Insert Date Appeal to Prefecture","Insert Fine Notification","Insert Fine Notification","Insert Fine Notification","Insert Fine Notification","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Notify Result Appeal to Offender","Payment","Payment","Payment","Payment","Payment","Payment","Payment","Receive Result Appeal from Prefecture","Receive Result Appeal from Prefecture","Receive Result Appeal from Prefecture","Receive Result Appeal from Prefecture","Send Appeal to Prefecture","Send Appeal to Prefecture","Send Appeal to Prefecture","Send Fine","Send Fine","Send Fine","Send Fine","Send for Credit Collection","Send for Credit Collection","START"],"to":["Insert Date Appeal to Prefecture","Notify Result Appeal to Offender","Payment","Receive Result Appeal from Prefecture","Send Appeal to Prefecture","Send for Credit Collection","Add penalty","END","Insert Date Appeal to Prefecture","Payment","Send Fine","Add penalty","Insert Fine Notification","Payment","Receive Result Appeal from Prefecture","Send Appeal to Prefecture","Add penalty","Appeal to Judge","Insert Date Appeal to Prefecture","Payment","Add penalty","Appeal to Judge","END","Payment","Receive Result Appeal from Prefecture","Send for Credit Collection","Add penalty","END","Insert Fine Notification","Payment","Receive Result Appeal from Prefecture","Send Fine","Send for Credit Collection","Add penalty","Notify Result Appeal to Offender","Payment","Send for Credit Collection","Add penalty","END","Receive Result Appeal from Prefecture","END","Insert Date Appeal to Prefecture","Insert Fine Notification","Payment","END","Send Appeal to Prefecture","Create Fine"],"color":["#323232","#727272","#080808","#4C4C4C","#101010","#000000","#656565","#B1B1B1","#989898","#191919","#000000","#2E2E2E","#B9B9B9","#767676","#6D6D6D","#262626","#040404","#616161","#2A2A2A","#5C5C5C","#878787","#7E7E7E","#B5B5B5","#363636","#B9B9B9","#212121","#545454","#A0A0A0","#8F8F8F","#1D1D1D","#828282","#505050","#151515","#939393","#474747","#8B8B8B","#585858","#7A7A7A","#ADADAD","#3F3F3F","#A8A8A8","#696969","#0C0C0C","#3B3B3B","#A4A4A4","#434343","#9C9C9C"],"label":[" 0.88%"," 0.06%"," 24.1%"," 0.32%"," 3.69%"," 70.94%"," 68.42%"," 26.32%"," 5.26%"," 34.43%"," 65.57%"," 73.28%"," 0.43%"," 1.29%"," 2.16%"," 22.84%"," 95.3%"," 0.3%"," 4.06%"," 0.35%"," 5.56%"," 9.26%"," 1.85%"," 44.44%"," 1.85%"," 37.04%"," 0.37%"," 92.36%"," 0.02%"," 5.38%"," 0.02%"," 0.26%"," 1.59%"," 3.64%"," 92.73%"," 1.82%"," 1.82%"," 5.29%"," 80.18%"," 14.54%"," 28.81%"," 0.03%"," 70.52%"," 0.64%"," 99.91%"," 0.09%"," 100%"],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"box","physics":true,"shadow":{"enabled":true},"scaling":{"min":15,"max":40}},"manipulation":{"enabled":false},"edges":{"width":5,"hidden":false,"hoverWidth":12,"physics":false,"labelHighlightBold":true,"smooth":{"enabled":true,"type":"curvedCCW"},"scaling":{"min":1,"max":10}},"layout":{"hierarchical":{"enabled":true,"blockShifting":true,"edgeMinimization":false,"parentCentralization":true,"direction":"LR","sortMethod":"directed"}}},"groups":null,"width":"800px","height":"1200px","idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script><p>You can refer to the documentation of <code>rvis</code> package to see how you can specify argument <code>config</code> in order to customize your plot. <code>rvis</code> uses a unique configuration format for all the plotters it supports. You can also directly use <code>visNetwork</code> functions to customize your plot. For example you can change edge arrow sizes.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span><span class="op">$</span><span class="fu">filter.reset</span><span class="op">(</span><span class="op">)</span>

<span class="va">tsobj</span><span class="op">$</span><span class="fu">plot.process.map</span><span class="op">(</span>plotter <span class="op">=</span> <span class="st">'visNetwork'</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">visNetwork</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/visNetwork/man/visEdges.html" class="external-link">visEdges</a></span><span class="op">(</span>arrows <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>enabled <span class="op">=</span> <span class="cn">TRUE</span>, scaleFactor <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>For complete instructions refer to the documentation of <code>visNetwork</code> package.</p>
</div>
<div class="section level3">
<h3 id="case-filtering">Case Filtering:<a class="anchor" aria-label="anchor" href="#case-filtering"></a>
</h3>
<p>Sometimes showing all transitions in the process map, makes it look noisy and complicated. We may need to filter out some cases with unusual traces in order to have a better visualisation of the process.</p>
<p>The most common filtering is to filter out cases which have uncommon transitions. These are what we call <em>noisy cases</em>. These cases follow traces different from the most frequent traces of the process and thus deviate from the main process.</p>
<p>Case filtering can be done via method <code>filter.case</code>. To filter out noisy cases, you can set argument <code>FreqRateCut</code> to a value between 0 and 1. Usually, a value close to 1.0 is chosen. For example, if you set it to 0.9, 10% of cases with the least frequent traces will be eliminated:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span><span class="op">$</span><span class="fu">filter.case</span><span class="op">(</span>freqRateCut <span class="op">=</span> <span class="fl">0.9</span><span class="op">)</span>

<span class="va">tsobj</span><span class="op">$</span><span class="fu">plot.process.map</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##  Aggregating nodes ...Done! </span>
<span class="co">## </span>
<span class="co">##  Aggregating links ...Done!</span></code></pre>
<div id="htmlwidget-cf362ad13799b550c63e" style="width:700px;height:432.632880098888px;" class="grviz html-widget"></div>
<script type="application/json" data-for="htmlwidget-cf362ad13799b550c63e">{"x":{"diagram":"digraph {\n\ngraph [layout = \"dot\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\",\n       rankdir = \"TD\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [label = \"Add penalty\n(4031)\", shape = \"rectangle\", fillcolor = \"#000080\", tooltip = \"Add penalty\n(4031)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"2\" [label = \"Create Fine\n(9349)\", shape = \"rectangle\", fillcolor = \"#242492\", tooltip = \"Create Fine\n(9349)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"3\" [label = \"END\n(9349)\", shape = \"circle\", fillcolor = \"#FFFFFF\", tooltip = \"END\n(9349)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n  \"4\" [label = \"Insert Fine Notification\n(4031)\", shape = \"rectangle\", fillcolor = \"#4848A4\", tooltip = \"Insert Fine Notification\n(4031)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"5\" [label = \"Payment\n(4186)\", shape = \"rectangle\", fillcolor = \"#B6B6DA\", tooltip = \"Payment\n(4186)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n  \"6\" [label = \"Send Fine\n(5921)\", shape = \"rectangle\", fillcolor = \"#6D6DB6\", tooltip = \"Send Fine\n(5921)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n  \"7\" [label = \"Send for Credit Collection\n(3273)\", shape = \"rectangle\", fillcolor = \"#DADAEC\", tooltip = \"Send for Credit Collection\n(3273)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#000000\"] \n  \"8\" [label = \"START\n(9349)\", shape = \"circle\", fillcolor = \"#9191C8\", tooltip = \"START\n(9349)\", fixedsize = \"FALSE\", style = \"rounded,filled\", fontcolor = \"#FFFFFF\"] \n\"1\"->\"5\" [color = \"#3F3F3F\", label = \" 18.8%\", tooltip = \"Add penalty-Payment\"] \n\"1\"->\"7\" [color = \"#000000\", label = \" 81.2%\", tooltip = \"Add penalty-Send for Credit Collection\"] \n\"2\"->\"5\" [color = \"#696969\", label = \" 36.67%\", tooltip = \"Create Fine-Payment\"] \n\"2\"->\"6\" [color = \"#151515\", label = \" 63.33%\", tooltip = \"Create Fine-Send Fine\"] \n\"4\"->\"1\" [color = \"#2A2A2A\", label = \" 100%\", tooltip = \"Insert Fine Notification-Add penalty\"] \n\"5\"->\"3\" [color = \"#939393\", label = \" 100%\", tooltip = \"Payment-END\"] \n\"6\"->\"3\" [color = \"#BEBEBE\", label = \" 31.92%\", tooltip = \"Send Fine-END\"] \n\"6\"->\"4\" [color = \"#545454\", label = \" 68.08%\", tooltip = \"Send Fine-Insert Fine Notification\"] \n\"7\"->\"3\" [color = \"#A8A8A8\", label = \" 100%\", tooltip = \"Send for Credit Collection-END\"] \n\"8\"->\"2\" [color = \"#7E7E7E\", label = \" 100%\", tooltip = \"START-Create Fine\"] \n}","config":{"engine":"dot","options":null,"tasks":null}},"evals":[],"jsHooks":[]}</script><p>When you case filter your object, all measures and charts will be impacted by the filtering until you run method <code>filer.reset</code> or run <code>filter.case</code> with different filtering arguments. For complete information about case filtering refer to the package API reference. <!-- todo:  --> <!-- - Add a link to the API reference. --> <!-- - Complete documentation for method filter.case --></p>
</div>
</div>
<div class="section level2">
<h2 id="process-sankey">Process Sankey<a class="anchor" aria-label="anchor" href="#process-sankey"></a>
</h2>
<p>Sankey chart is another type of visualisation which can show you the process by focusing more on the process flows.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tsobj</span> <span class="op"><a href="https://rdrr.io/pkg/magrittr/man/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">plot_process_sankey</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Loading required package: networkD3</span></code></pre>
<div id="htmlwidget-3ff3f7804f2c6952e3d6" style="width:700px;height:432.632880098888px;" class="sankeyNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-3ff3f7804f2c6952e3d6">{"x":{"links":{"source":[0,0,1,1,3,4,5,5,6,7],"target":[4,6,4,5,0,2,2,3,2,1],"value":[758,3273,3428,5921,4031,4186,1890,4031,3273,9349]},"nodes":{"name":["Add penalty","Create Fine","END","Insert Fine Notification","Payment","Send Fine","Send for Credit Collection","START"],"group":["Add penalty","Create Fine","END","Insert Fine Notification","Payment","Send Fine","Send for Credit Collection","START"]},"options":{"NodeID":"label","NodeGroup":"label","LinkGroup":null,"colourScale":"d3.scaleOrdinal(d3.schemeCategory20);","fontSize":10,"fontFamily":null,"nodeWidth":25,"nodePadding":10,"units":"","margin":{"top":null,"right":null,"bottom":null,"left":null},"iterations":32,"sinksRight":true}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level2">
<h2 id="process-tree">Process Tree<a class="anchor" aria-label="anchor" href="#process-tree"></a>
</h2>
<p>Another type of visualisation ideal for showing a process is an interactive Sankey-Tree.</p>
<p>To generate this visualisation, you will need to install packages <code>sankeytreeR</code> and <code>treemap</code>. package <code>treemap</code> can be installed from cran and <code>sankeytree</code> needs to be installed from github:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">treemap</span><span class="op">)</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'treemap'</span><span class="op">)</span><span class="op">}</span></code></pre></div>
<pre><code><span class="co">## Loading required package: treemap</span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/timelyportfolio/d3r" class="external-link">d3r</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'d3r'</span><span class="op">)</span><span class="op">}</span></code></pre></div>
<pre><code><span class="co">## Loading required package: d3r</span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/timelyportfolio/sankeytree" class="external-link">sankeytreeR</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'https://github.com/timelyportfolio/sankeytree.git'</span><span class="op">)</span><span class="op">}</span></code></pre></div>
<pre><code><span class="co">## Loading required package: sankeytreeR</span></code></pre>
<p>Itâ€™s good to filter out the most 1% uncommon traces tsobj %&gt;% plot_process_tree()</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nima Ramezani.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
